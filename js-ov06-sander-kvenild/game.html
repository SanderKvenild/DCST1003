<html>
  <head>
    <style>
      #gameArea {
        border: 2px solid black;
        height: 500px;
        width: 500px;
      }
    </style>
  </head>
  <body>
    <h1>Find the hidden button and click it!</h1>
    <p><b>How many buttons can you click in 15 seconds?</b></p>
    <div>Timer:</div>
    <div id="timerText">15</div>
    <div>Points:</div>
    <div id="pointsText"></div>
    <div id="gameArea">
      <button id="button">Click me</button>
    </div>
    <script>
      let points = 0;
      let pointsText = document.getElementById('pointsText');
      let timerText = document.getElementById('timerText');
      pointsText.innerText = points;
      let gameArea = document.getElementById("gameArea");

      let button = document.getElementById('button');
      button.style.position = 'absolute';
      // Hide button
      button.style.visibility = 'hidden';
      moveButton();

      // Show button when the mouse cursor is close to it
      window.onmousemove = (event) => {
        // Find the center of button
        let rect = button.getBoundingClientRect();
        let centerX = (rect.right + rect.left) / 2;
        let centerY = (rect.bottom + rect.top) / 2;

        // Calculate distance between mouse cursor and center of button
        let distance = Math.sqrt(
          Math.pow(centerX - event.clientX, 2) + Math.pow(centerY - event.clientY, 2)
        );

        if (distance < 100 && button.style.visibility == 'hidden') {
          button.style.visibility = 'visible';
        }
      };
      
      button.onclick = () => {
        points += 1;
        pointsText.innerText = points;

        // Hide button
        button.style.visibility = 'hidden';
        // Move button to a random position
        moveButton();
      };

      setInterval(() => {
        timerText.innerText -= 1;

        if (timerText.innerText < '0') {
          alert("Du fikk " + points + " poeng!");
          timerText.innerText = 15;
          points = 0;
          pointsText.innerText = points;
        }
      }, 1000);

      function moveButton() {
        let bounds = gameArea.getBoundingClientRect()
        
        // Move button to a random position
        button.style.left = Math.floor(Math.random() * 500 + bounds.left) + 'px';
        button.style.top = Math.floor(Math.random() * 500 + bounds.top) + 'px';
      }
    </script>
  </body>
</html>